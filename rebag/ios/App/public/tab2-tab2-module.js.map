{"version":3,"sources":["./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.page.html"],"names":[],"mappings":"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","file":"tab2-tab2-module.js","sourcesContent":["export default \".camera-button {\\n  width: 50px;\\n  height: 50px;\\n  --border-radius: 100% !important;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.buttons ion-button {\\n  bottom: 50px;\\n  --ion-color-primary: #57B660;\\n  padding: 0 10px 0 10px;\\n  color: #f2f2f2;\\n  --color-hover: #f2f2f2;\\n  --background-hover: #3C9644;\\n  height: 40px;\\n  width: 80%;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RhYjIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxnQ0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7RUFDQSw0QkFBQTtFQUNBLHNCQUFBO0VBQ0EsY0FBQTtFQUNBLHNCQUFBO0VBQ0EsMkJBQUE7RUFDQSxZQUFBO0VBQ0EsVUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDSiIsImZpbGUiOiJ0YWIyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYW1lcmEtYnV0dG9ue1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIGhlaWdodDogNTBweDtcbiAgICAtLWJvcmRlci1yYWRpdXM6IDEwMCUgIWltcG9ydGFudDtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG5cbi5idXR0b25zIGlvbi1idXR0b24ge1xuICAgIGJvdHRvbTogNTBweDtcbiAgICAtLWlvbi1jb2xvci1wcmltYXJ5OiAjNTdCNjYwO1xuICAgIHBhZGRpbmc6IDAgMTBweCAwIDEwcHg7XG4gICAgY29sb3I6ICNmMmYyZjI7XG4gICAgLS1jb2xvci1ob3ZlcjogI2YyZjJmMjtcbiAgICAtLWJhY2tncm91bmQtaG92ZXI6ICMzQzk2NDQ7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIHdpZHRoOiA4MCU7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { MarkersService } from '../services/pins.service';\nimport { Plugins, CameraResultType } from '@capacitor/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport firebase from 'firebase/app';\nimport { AuthService } from 'src/app/services/auth.service';\nconst { Camera } = Plugins;\nconst { Geolocation } = Plugins;\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page implements OnInit {\n\n  profile: any;\n  profileName: any;\n\n  // Platzhalter für den Neuen Marker\n  pinId: string = '';\n  name: string = '';\n  latitude: number = 0;\n  longitude: number = 0;\n  availabilityReport: number = 0;\n  cleaningReport: number = 0;\n  imageBase64: any = null;\n\n  // weitere\n  toggle: boolean = true;\n  isShown = false;\n  imageTook = false;\n\n  //Lade Firebase, MarkerService\n  constructor(private markersService: MarkersService, public authService: AuthService, private database: AngularFirestore) {\n    firebase.auth().onAuthStateChanged(user => {\n      console.log(\"AUTH_USER\", user);\n\n      if (user) {\n        const result = this.database.doc(`/profile/${this.authService.getUID()}`);\n        var userprofile = result.valueChanges();\n        userprofile.subscribe(profile => {\n          console.log(\"PROFILE::\", profile);\n          this.profileName = profile['name'];\n        })\n      }\n    })\n  }\n\n  ngOnInit() { }\n\n  //Koordinaten des aktuellen Standorts laden\n  ionViewDidEnter() {\n    this.latitude = 0.0;\n    this.longitude = 0.0;\n\n    const coordinates = Geolocation.getCurrentPosition().then((pos) => {\n      this.latitude = pos.coords.latitude;\n      this.longitude = pos.coords.longitude;\n    });\n  }\n\n  //Foto für den Standort aufnehmen\n  async takePhoto() {\n    const image = await Camera.getPhoto({\n      quality: 20,\n      allowEditing: true,\n      resultType: CameraResultType.Base64\n    });\n    this.imageBase64 = image.base64String;\n    this.imageTook = true;\n    console.log(\"bild aufgenommen\")\n  }\n\n  //Standort speichern\n  save() {\n    const marker = {\n      'pinId': JSON.stringify(this.markersService.getMarkerslength() + 1),\n      'name': this.name,\n      'coordinates': [this.latitude, this.longitude],\n      'availabilityReport': this.availabilityReport,\n      'cleaningReport': this.cleaningReport,\n      'imageBase64': this.imageBase64\n    };\n    //console.log(JSON.stringify(marker));\n\n    this.markersService.add(marker);\n    this.pinId = '';\n    this.name = '';\n    this.latitude = 0;\n    this.longitude = 0;\n    this.availabilityReport = 0;\n    this.cleaningReport = 0;\n    this.imageBase64 = '';\n\n    this.toggle = true;\n    this.isShown = false;\n  }\n\n  //Ansicht der Koordinaten togglen\n  toggleGeo() {\n    this.isShown = !this.isShown;\n  }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\n\nexport class Tab2PageModule { }\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  },\n  {\n    path: 'ideas',\n    loadChildren: () => import('./ideas/ideas.module').then(m => m.IdeasPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\n\nexport class Tab2PageRoutingModule { }\n","export default \"<ion-header class=\\\"header-bg\\\">\\n  <ion-toolbar>\\n    <ion-title>Hey {{profileName}}!</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button [routerLink]=\\\"['/settings']\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"cog\\\">\\n        </ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n\\n  <!--Toggle für Standort-->\\n  <ion-item class=\\\"no-border\\\">\\n    <h4 class=\\\"no-margin\\\">Aktuellen Standort verwenden</h4>\\n    <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"toggle\\\" (click)=\\\"toggleGeo()\\\"></ion-toggle>\\n  </ion-item>\\n\\n  <!--Name-->\\n  <ion-list class=\\\"align-mid\\\">\\n    <h4>Name des Standortes</h4>\\n    <ion-item>\\n      <ion-input [(ngModel)]=\\\"name\\\" placeholder=\\\"Name..\\\"></ion-input>\\n    </ion-item>\\n\\n    <!--Koordinaten nur anzeigen wenn Toggle-->\\n    <br *ngIf=\\\"isShown\\\">\\n\\n    <h4 *ngIf=\\\"isShown\\\">Bearbeite deine Koordinaten</h4>\\n    <ion-item *ngIf=\\\"isShown\\\">\\n      <ion-input [(ngModel)]=\\\"latitude\\\" placeholder=\\\"Latitude..\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item *ngIf=\\\"isShown\\\">\\n      <ion-input [(ngModel)]=\\\"longitude\\\" placeholder=\\\"Longitude..\\\"></ion-input>\\n    </ion-item>\\n\\n    <br><br>\\n\\n    <!--Foto aufnehmen-->\\n    <ion-item class=\\\"no-border\\\">\\n      <ion-button class=\\\"camera-button\\\" (click)=\\\"takePhoto()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"camera\\\"></ion-icon>\\n      </ion-button>\\n    </ion-item>\\n\\n    <!--Speichern Button-->\\n    <ion-item class=\\\"no-border buttons\\\">\\n      <ion-button expand=\\\"block\\\" (click)=\\\"save()\\\" [routerLink]=\\\"['../tab1']\\\">Standort Hinzufügen</ion-button>\\n    </ion-item>\\n\\n    <!--Ideen Button-->\\n    <ion-item class=\\\"no-border buttons\\\">\\n      <ion-button style=\\\"color: #57b660;\\\" expand=\\\"block\\\" fill=\\\"outline\\\" [routerLink]=\\\"['./ideas']\\\">Ideen ansehen\\n      </ion-button>\\n    </ion-item>\\n\\n  </ion-list>\\n\\n</ion-content>\";"],"sourceRoot":"webpack:///"}